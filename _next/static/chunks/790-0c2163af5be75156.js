"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{49704:function(n,e,t){t.d(e,{Z:function(){return g}});var r=t(85893),o=(t(67294),t(61246)),i=t(99150),a=t(87379),c=t(39475),l=t(41914),s=t(74314),u=t(64011),d=t(38328),f=t(53854),p=t(85872);function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return m(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(){var n,e,t=(n=["\n  padding: 8px 0;\n  width: 100%;\n  max-width: 400px;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  color: ",";\n  background-color: ",";\n  text-align: center;\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return x=function(){return t},t}var v=a.ZP.div.withConfig({componentId:"sc-e8127df6-0"})(x(),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.invertedContrast})),b=function(n){var e=n.currencies,t=n.onDismiss,a=(0,u.Z)().chainId,m=(0,i.$G)().t,h=a&&e?e.map((function(n){return(0,f.pu)(n,a)})):[],x=(0,p.l6)();return(0,r.jsx)(o.u_l,{title:m("Unsupported Assets"),maxWidth:"420px",onDismiss:t,children:(0,r.jsxs)(l.Tz,{gap:"lg",children:[h.map((function(n){var e;return n&&x&&Object.keys(x).includes(n.address)&&(0,r.jsxs)(l.Tz,{gap:"10px",children:[(0,r.jsxs)(c.BA,{gap:"5px",align:"center",children:[(0,r.jsx)(s.Xw,{currency:n,size:"24px"}),(0,r.jsx)(o.xvT,{children:n.symbol})]}),a&&(0,r.jsx)(o.rUS,{external:!0,small:!0,color:"primaryDark",href:(0,d.s6)(n.address,"address",a),children:n.address})]},null===(e=n.address)||void 0===e?void 0:e.concat("not-supported"))})),(0,r.jsx)(l.Tz,{gap:"lg",children:(0,r.jsx)(o.xvT,{children:m("Some assets are not available through this interface because they may not work well with our smart contract or we are unable to allow trading for legal reasons.")})})]})})};function g(n){var e=n.currencies,t=(0,i.$G)().t,a=h((0,o.ddY)((0,r.jsx)(b,{currencies:e})),1)[0];return(0,r.jsx)(v,{children:(0,r.jsx)(o.zxk,{variant:"text",onClick:a,children:t("Read more about unsupported assets")})})}},45131:function(n,e,t){t.d(e,{i:function(){return i}});var r=t(52689),o=t(3862);function i(n){if(n)return n.currency===r.c0?r.QA.greaterThan(n.raw,o.Uz)?r.ih.ether(r.QA.subtract(n.raw,o.Uz)):r.ih.ether(r.QA.BigInt(0)):n}},26790:function(n,e,t){t.d(e,{Z:function(){return at}});var r=t(85893),o=t(67294),i=t(87379),a=t(52689),c=t(61246),l=t(23715),s=t(49704),u=t(11163),d=t(99150),f=t(29748),p=f.ZP.bondly,m={safemoon:f.ZP.safemoon,bondly:p,itam:f.ZP.itam,ccar:f.ZP.ccar,bttold:f.ZP.bttold},h=t(8100),x=function(){var n=(0,o.useState)(!1),e=n[0],t=n[1],r=(0,o.useCallback)((function(){e||t(!0)}),[e]),i=(0,h.kY)().mutate;return(0,o.useEffect)((function(){e&&(i(["blockNumber"]),setTimeout((function(){return t(!1)}),500))}),[i,e]),{refreshBlockNumber:r,isLoading:e}},v=t(65611),b=t(64011),g=t(41914),y=t(39475),j=t(38328);function w(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function C(){var n=w(["\n  display: flex;\n  flex-flow: column nowrap;\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ",";\n  z-index: 1;\n  width: 100%;\n"]);return C=function(){return n},n}function T(){var n=w(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1.25rem;\n  border: 1px solid ",";\n  transition: border-color 300ms ",",\n    color 500ms ",";\n  background-color: ",";\n"]);return T=function(){return n},n}function P(){var n=w(["\n  flex: 1;\n  padding: 1rem;\n"]);return P=function(){return n},n}function A(){var n=w(["\n  font-size: 1.25rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: ",";\n  transition: color 300ms ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 500;\n  width: 100%;\n  ::placeholder {\n    color: ",";\n  }\n  padding: 0px;\n  -webkit-appearance: textfield;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ",";\n  }\n"]);return A=function(){return n},n}var k=i.ZP.div.withConfig({componentId:"sc-faadaca5-0"})(C(),(function(n){return n.theme.colors.backgroundAlt})),I=i.ZP.div.withConfig({componentId:"sc-faadaca5-1"})(T(),(function(n){var e=n.error,t=n.theme;return e?t.colors.failure:t.colors.background}),(function(n){return n.error?"step-end":"step-start"}),(function(n){return n.error?"step-end":"step-start"}),(function(n){return n.theme.colors.backgroundAlt})),S=i.ZP.div.withConfig({componentId:"sc-faadaca5-2"})(P()),O=i.ZP.input.withConfig({componentId:"sc-faadaca5-3"})(A(),(function(n){return n.theme.colors.backgroundAlt}),(function(n){return n.error?"step-end":"step-start"}),(function(n){var e=n.error,t=n.theme;return e?t.colors.failure:t.colors.primary}),(function(n){return n.theme.colors.textDisabled}),(function(n){return n.theme.colors.textDisabled}));function U(n){var e=n.id,t=n.value,i=n.onChange,a=(0,b.Z)().chainId,l=(0,d.$G)().t,s=(0,v.Z)(t),u=s.address,f=s.loading,p=s.name,m=(0,o.useCallback)((function(n){var e=n.target.value.replace(/\s+/g,"");i(e)}),[i]),h=Boolean(t.length>0&&!f&&!u);return(0,r.jsx)(k,{id:e,children:(0,r.jsx)(I,{error:h,children:(0,r.jsx)(S,{children:(0,r.jsxs)(g.Tz,{gap:"md",children:[(0,r.jsxs)(y.m0,{children:[(0,r.jsx)(c.xvT,{children:l("Recipient")}),u&&a&&(0,r.jsxs)(c.rUS,{external:!0,small:!0,href:(0,j.s6)(null!==p&&void 0!==p?p:u,"address",a),children:["(",l("View on BscScan"),")"]})]}),(0,r.jsx)(O,{className:"recipient-address-input",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:l("Wallet Address or ENS name"),error:h,pattern:"^(0x[a-fA-F0-9]{40})$",onChange:m,value:t})]})})})})}var N=t(36261),E=t(41228),z=t(70193),L=t(7879),D=t(45061),Z=t(3862);function B(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function M(){var n=B(["\n  position: relative;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 1rem;\n"]);return M=function(){return n},n}function F(){var n=B(["\n          :hover {\n            cursor: pointer;\n            opacity: 0.8;\n          }\n        "]);return F=function(){return n},n}function _(){var n=B(["\n  padding: 2px;\n\n  ","\n"]);return _=function(){return n},n}function G(){var n=B(["\n  color: ",";\n"]);return G=function(){return n},n}function W(){var n=B(["\n  height: 22px;\n  width: 22px;\n  background-color: ",";\n  border: none;\n  border-radius: 50%;\n  padding: 0.2rem;\n  font-size: 0.875rem;\n  font-weight: 400;\n  margin-left: 0.4rem;\n  cursor: pointer;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  float: right;\n\n  :hover {\n    background-color: ",";\n  }\n  :focus {\n    background-color: ",";\n    outline: none;\n  }\n"]);return W=function(){return n},n}function R(){var n=B(["\n  width: 220px;\n"]);return R=function(){return n},n}function $(){var n=B(["\n  background-color: ",";\n  border-radius: 1rem;\n  display: flex;\n  align-items: center;\n  font-size: 0.825rem;\n  width: 100%;\n  padding: 3rem 1.25rem 1rem 1rem;\n  margin-top: -2rem;\n  color: ",";\n  z-index: -1;\n  p {\n    padding: 0;\n    margin: 0;\n    font-weight: 500;\n  }\n"]);return $=function(){return n},n}function X(){var n=B(["\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n  border-radius: 12px;\n  min-width: 48px;\n  height: 48px;\n"]);return X=function(){return n},n}function Y(){var n=B(["\n  background-color: ",";\n  padding: 0.5rem;\n  border-radius: 12px;\n  margin-top: 8px;\n"]);return Y=function(){return n},n}var H=(0,i.ZP)(c.kCb).withConfig({componentId:"sc-38f78b79-0"})(M()),V=i.ZP.div.withConfig({componentId:"sc-38f78b79-1"})(_(),(function(n){return n.clickable?(0,i.iv)(F()):null})),K=(0,i.ZP)(c.xvT).withConfig({componentId:"sc-38f78b79-2"})(G(),(function(n){var e=n.theme,t=n.severity;return 3===t||4===t?e.colors.failure:2===t?e.colors.warning:1===t?e.colors.text:e.colors.success})),q=i.ZP.button.withConfig({componentId:"sc-38f78b79-3"})(W(),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.dropdown}),(function(n){return n.theme.colors.dropdown})),Q=(0,i.ZP)(c.xvT).attrs({ellipsis:!0}).withConfig({componentId:"sc-38f78b79-4"})(R()),J=i.ZP.div.withConfig({componentId:"sc-38f78b79-5"})($(),(function(n){var e=n.theme;return"".concat(e.colors.failure,"33")}),(function(n){return n.theme.colors.failure})),nn=i.ZP.div.withConfig({componentId:"sc-38f78b79-6"})(X(),(function(n){var e=n.theme;return"".concat(e.colors.failure,"33")}));function en(n){var e=n.error;return(0,r.jsxs)(J,{children:[(0,r.jsx)(nn,{children:(0,r.jsx)(c.Pz_,{width:"24px"})}),(0,r.jsx)("p",{children:e})]})}var tn=(0,i.ZP)(g.Tz).withConfig({componentId:"sc-38f78b79-7"})(Y(),(function(n){var e=n.theme;return"".concat(e.colors.warning,"33")}));function rn(n){var e=n.priceImpact;return(0,r.jsx)(K,{fontSize:"14px",severity:(0,L.oX)(e),children:e?e.lessThan(Z.IS)?"<0.01%":"".concat(e.toFixed(2),"%"):"-"})}function on(){var n,e,t=(n=["\n  margin-top: 24px;\n  padding: 16px;\n  border-radius: ",";\n  border: 1px solid ",";\n  background-color: ",";\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return on=function(){return t},t}var an=(0,i.ZP)(g.Tz).withConfig({componentId:"sc-a99628-0"})(on(),(function(n){return n.theme.radii.default}),(function(n){return n.theme.colors.cardBorder}),(function(n){return n.theme.colors.background}));function cn(n){var e,t,i,l,s=n.trade,u=n.onConfirm,f=n.allowedSlippage,p=n.swapErrorMessage,m=n.disabledConfirm,h=(0,d.$G)().t,x=(0,o.useState)(!1),v=x[0],b=x[1],g=(0,o.useMemo)((function(){return(0,L.b5)(s,f)}),[f,s]),j=(0,o.useMemo)((function(){return(0,L.U7)(s)}),[s]),w=j.priceImpactWithoutFee,C=j.realizedLPFee,T=(0,L.oX)(w);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(an,{children:[(0,r.jsxs)(y.m0,{align:"center",children:[(0,r.jsx)(c.xvT,{fontSize:"14px",children:h("Price")}),(0,r.jsxs)(c.xvT,{fontSize:"14px",style:{justifyContent:"center",alignItems:"center",display:"flex",textAlign:"right",paddingLeft:"10px"},children:[(0,L.Kh)(s,v),(0,r.jsx)(q,{onClick:function(){return b(!v)},children:(0,r.jsx)(c.kFI,{width:"14px"})})]})]}),(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",children:s.tradeType===a.YL.EXACT_INPUT?h("Minimum received"):h("Maximum sold")}),(0,r.jsx)(D.Z,{text:h("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."),ml:"4px"})]}),(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",children:s.tradeType===a.YL.EXACT_INPUT?null!==(i=null===(e=g[z.gN.OUTPUT])||void 0===e?void 0:e.toSignificant(4))&&void 0!==i?i:"-":null!==(l=null===(t=g[z.gN.INPUT])||void 0===t?void 0:t.toSignificant(4))&&void 0!==l?l:"-"}),(0,r.jsx)(c.xvT,{fontSize:"14px",marginLeft:"4px",children:s.tradeType===a.YL.EXACT_INPUT?s.outputAmount.currency.symbol:s.inputAmount.currency.symbol})]})]}),(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",children:h("Price Impact")}),(0,r.jsx)(D.Z,{text:h("The difference between the market price and your price due to trade size."),ml:"4px"})]}),(0,r.jsx)(rn,{priceImpact:w})]}),(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",children:h("Liquidity Provider Fee")}),(0,r.jsx)(D.Z,{text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.xvT,{mb:"12px",children:h("For each trade a %amount% fee is paid",{amount:"0.25%"})}),(0,r.jsxs)(c.xvT,{children:["- ",h("%amount% to LP token holders",{amount:"0.17%"})]}),(0,r.jsxs)(c.xvT,{children:["- ",h("%amount% to the Treasury",{amount:"0.03%"})]}),(0,r.jsxs)(c.xvT,{children:["- ",h("%amount% towards CAKE buyback and burn",{amount:"0.05%"})]})]}),ml:"4px"})]}),(0,r.jsx)(c.xvT,{fontSize:"14px",children:C?"".concat(null===C||void 0===C?void 0:C.toSignificant(6)," ").concat(s.inputAmount.currency.symbol):"-"})]})]}),(0,r.jsxs)(y.BA,{children:[(0,r.jsx)(c.zxk,{variant:T>2?"danger":"primary",onClick:u,disabled:m,mt:"12px",id:"confirm-swap-or-send",width:"100%",children:h(T>2?"Swap Anyway":"Confirm Swap")}),p?(0,r.jsx)(en,{error:p}):null]})]})}var ln=t(74314),sn=t(53467);function un(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function dn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return un(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return un(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(n){var e,t,i=n.trade,l=n.allowedSlippage,s=n.recipient,u=n.showAcceptChanges,f=n.onAcceptChanges,p=(0,d.$G)().t,m=(0,o.useMemo)((function(){return(0,L.b5)(i,l)}),[i,l]),h=(0,o.useMemo)((function(){return(0,L.U7)(i)}),[i]).priceImpactWithoutFee,x=(0,L.oX)(h),v=i.tradeType===a.YL.EXACT_INPUT?null===(e=m[z.gN.OUTPUT])||void 0===e?void 0:e.toSignificant(6):null===(t=m[z.gN.INPUT])||void 0===t?void 0:t.toSignificant(6),b=i.tradeType===a.YL.EXACT_INPUT?i.outputAmount.currency.symbol:i.inputAmount.currency.symbol,j=dn((i.tradeType===a.YL.EXACT_INPUT?p("Output is estimated. You will receive at least %amount% %symbol% or the transaction will revert.",{amount:v,symbol:b}):p("Input is estimated. You will sell at most %amount% %symbol% or the transaction will revert.",{amount:v,symbol:b})).split("".concat(v," ").concat(b)),2),w=j[0],C=j[1],T=s?(0,sn.Z)(s):"",P=dn(p("Output will be sent to %recipient%",{recipient:T}).split(T),2),A=P[0],k=P[1];return(0,r.jsxs)(g.Tz,{gap:"md",children:[(0,r.jsxs)(y.m0,{align:"flex-end",children:[(0,r.jsxs)(y.DA,{gap:"0px",children:[(0,r.jsx)(ln.Xw,{currency:i.inputAmount.currency,size:"24px",style:{marginRight:"12px"}}),(0,r.jsx)(Q,{fontSize:"24px",color:u&&i.tradeType===a.YL.EXACT_OUTPUT?"primary":"text",children:i.inputAmount.toSignificant(6)})]}),(0,r.jsx)(y.DA,{gap:"0px",children:(0,r.jsx)(c.xvT,{fontSize:"24px",ml:"10px",children:i.inputAmount.currency.symbol})})]}),(0,r.jsx)(y.DA,{children:(0,r.jsx)(c.veu,{width:"16px",ml:"4px"})}),(0,r.jsxs)(y.m0,{align:"flex-end",children:[(0,r.jsxs)(y.DA,{gap:"0px",children:[(0,r.jsx)(ln.Xw,{currency:i.outputAmount.currency,size:"24px",style:{marginRight:"12px"}}),(0,r.jsx)(Q,{fontSize:"24px",color:x>2?"failure":u&&i.tradeType===a.YL.EXACT_INPUT?"primary":"text",children:i.outputAmount.toSignificant(6)})]}),(0,r.jsx)(y.DA,{gap:"0px",children:(0,r.jsx)(c.xvT,{fontSize:"24px",ml:"10px",children:i.outputAmount.currency.symbol})})]}),u?(0,r.jsx)(tn,{justify:"flex-start",gap:"0px",children:(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.Pz_,{mr:"8px"}),(0,r.jsxs)(c.xvT,{bold:!0,children:[" ",p("Price Updated")]})]}),(0,r.jsx)(c.zxk,{onClick:f,children:p("Accept")})]})}):null,(0,r.jsx)(g.Tz,{justify:"flex-start",gap:"sm",style:{padding:"24px 0 0 0px"},children:(0,r.jsxs)(c.xvT,{small:!0,color:"textSubtle",textAlign:"left",style:{width:"100%"},children:[w,(0,r.jsxs)("b",{children:[v," ",b]}),C]})}),null!==s?(0,r.jsx)(g.Tz,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:(0,r.jsxs)(c.xvT,{color:"textSubtle",children:[A,(0,r.jsx)("b",{title:s,children:T}),k]})}):null]})}var pn=function(n){var e,t,i,c,l,s,u,f,p,m,h=n.trade,x=n.originalTrade,v=n.onAcceptChanges,b=n.allowedSlippage,g=n.onConfirm,y=n.onDismiss,j=n.customOnDismiss,w=n.recipient,C=n.swapErrorMessage,T=n.attemptingTxn,P=n.txHash,A=(0,o.useMemo)((function(){return Boolean(h&&x&&(e=x,(n=h).tradeType!==e.tradeType||!(0,a.KA)(n.inputAmount.currency,e.inputAmount.currency)||!n.inputAmount.equalTo(e.inputAmount)||!(0,a.KA)(n.outputAmount.currency,e.outputAmount.currency)||!n.outputAmount.equalTo(e.outputAmount)));var n,e}),[x,h]),k=(0,d.$G)().t,I=(0,o.useCallback)((function(){return h?(0,r.jsx)(fn,{trade:h,allowedSlippage:b,recipient:w,showAcceptChanges:A,onAcceptChanges:v}):null}),[b,v,w,A,h]),S=(0,o.useCallback)((function(){return h?(0,r.jsx)(cn,{onConfirm:g,trade:h,disabledConfirm:A,swapErrorMessage:C,allowedSlippage:b}):null}),[b,g,A,C,h]),O=k("Swapping %amountA% %symbolA% for %amountB% %symbolB%",{amountA:null!==(u=null===h||void 0===h||null===(e=h.inputAmount)||void 0===e?void 0:e.toSignificant(6))&&void 0!==u?u:"",symbolA:null!==(f=null===h||void 0===h||null===(t=h.inputAmount)||void 0===t||null===(i=t.currency)||void 0===i?void 0:i.symbol)&&void 0!==f?f:"",amountB:null!==(p=null===h||void 0===h||null===(c=h.outputAmount)||void 0===c?void 0:c.toSignificant(6))&&void 0!==p?p:"",symbolB:null!==(m=null===h||void 0===h||null===(l=h.outputAmount)||void 0===l||null===(s=l.currency)||void 0===s?void 0:s.symbol)&&void 0!==m?m:""}),U=(0,o.useCallback)((function(){return C?(0,r.jsx)(E.ht,{onDismiss:y,message:C}):(0,r.jsx)(E.pM,{topContent:I,bottomContent:S})}),[y,S,I,C]);return(0,r.jsx)(E.ZP,{title:k("Confirm Swap"),onDismiss:y,customOnDismiss:j,attemptingTxn:T,hash:P,content:U,pendingText:O,currencyToAdd:null===h||void 0===h?void 0:h.outputAmount.currency})},mn=t(19527);function hn(n){return null!==n&&void 0!==n}var xn=function(n){return function(n,e){var t=(0,o.useState)(e&&e(n)?n:void 0),r=t[0],i=t[1];return(0,o.useEffect)((function(){i((function(t){return!e||e(n)?n:t}))}),[e,n]),r}(n,hn)},vn=t(68605),bn=t(53854),gn=(0,o.memo)((function(n){var e=n.trade;return(0,r.jsx)(c.kCb,{flexWrap:"wrap",width:"100%",justifyContent:"flex-end",alignItems:"center",children:e.route.path.map((function(n,e,t){var i=e===t.length-1,a=(0,bn.Bv)(n);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(c.kCb,{alignItems:"end",children:(0,r.jsx)(c.xvT,{fontSize:"14px",ml:"0.125rem",mr:"0.125rem",children:a.symbol})}),!i&&(0,r.jsx)(c.XCv,{width:"12px"})]},e)}))})}));function yn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return yn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yn(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(n){var e,t,o,i,l=n.trade,s=n.allowedSlippage,u=(0,d.$G)().t,f=(0,L.U7)(l),p=f.priceImpactWithoutFee,m=f.realizedLPFee,h=l.tradeType===a.YL.EXACT_INPUT,x=(0,L.b5)(l,s);return(0,r.jsxs)(g.Tz,{style:{padding:"0 16px"},children:[(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",color:"textSubtle",children:u(h?"Minimum received":"Maximum sold")}),(0,r.jsx)(D.Z,{text:u("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."),ml:"4px",placement:"top-start"})]}),(0,r.jsx)(y.DA,{children:(0,r.jsx)(c.xvT,{fontSize:"14px",children:h?null!==(o="".concat(null===(e=x[z.gN.OUTPUT])||void 0===e?void 0:e.toSignificant(4)," ").concat(l.outputAmount.currency.symbol))&&void 0!==o?o:"-":null!==(i="".concat(null===(t=x[z.gN.INPUT])||void 0===t?void 0:t.toSignificant(4)," ").concat(l.inputAmount.currency.symbol))&&void 0!==i?i:"-"})})]}),(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",color:"textSubtle",children:u("Price Impact")}),(0,r.jsx)(D.Z,{text:u("The difference between the market price and estimated price due to trade size."),ml:"4px",placement:"top-start"})]}),(0,r.jsx)(rn,{priceImpact:p})]}),(0,r.jsxs)(y.m0,{children:[(0,r.jsxs)(y.DA,{children:[(0,r.jsx)(c.xvT,{fontSize:"14px",color:"textSubtle",children:u("Liquidity Provider Fee")}),(0,r.jsx)(D.Z,{text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.xvT,{mb:"12px",children:u("For each trade a %amount% fee is paid",{amount:"0.25%"})}),(0,r.jsxs)(c.xvT,{children:["- ",u("%amount% to LP token holders",{amount:"0.17%"})]}),(0,r.jsxs)(c.xvT,{children:["- ",u("%amount% to the Treasury",{amount:"0.03%"})]}),(0,r.jsxs)(c.xvT,{children:["- ",u("%amount% towards CAKE buyback and burn",{amount:"0.05%"})]})]}),ml:"4px",placement:"top-start"})]}),(0,r.jsx)(c.xvT,{fontSize:"14px",children:m?"".concat(m.toSignificant(4)," ").concat(l.inputAmount.currency.symbol):"-"})]})]})}function Cn(n){var e=n.trade,t=(0,d.$G)().t,o=jn((0,vn.$2)(),1)[0],i=Boolean(e&&e.route.path.length>2);return(0,r.jsx)(g.Tz,{gap:"0px",children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(wn,{trade:e,allowedSlippage:o}),i&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(y.m0,{style:{padding:"0 16px"},children:[(0,r.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(c.xvT,{fontSize:"14px",color:"textSubtle",children:t("Route")}),(0,r.jsx)(D.Z,{text:t("Routing through these tokens resulted in the best price for your trade."),ml:"4px",placement:"top-start"})]}),(0,r.jsx)(gn,{trade:e})]})})]})})}function Tn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){Tn(n,e,t[e])}))}return n}function An(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function kn(){var n,e,t=(n=["\n  margin-top: ",";\n  padding-top: 16px;\n  padding-bottom: 16px;\n  width: 100%;\n  max-width: 400px;\n  border-radius: 20px;\n  background-color: ",";\n\n  transform: ",";\n  transition: transform 300ms ease-in-out;\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return kn=function(){return t},t}var In=i.ZP.div.withConfig({componentId:"sc-a40874b-0"})(kn(),(function(n){return n.show?"16px":0}),(function(n){return n.theme.colors.invertedContrast}),(function(n){return n.show?"translateY(0%)":"translateY(-100%)"}));function Sn(n){var e,t=n.trade,o=An(n,["trade"]),i=xn(t);return(0,r.jsx)(In,{show:Boolean(t),children:(0,r.jsx)(Cn,Pn({},o,{trade:null!==(e=null!==t&&void 0!==t?t:i)&&void 0!==e?e:void 0}))})}function On(n){var e,t,o,i,a,l=n.price,s=n.showInverted,u=n.setShowInverted,d=s?null===l||void 0===l?void 0:l.toSignificant(6):null===(e=null===l||void 0===l?void 0:l.invert())||void 0===e?void 0:e.toSignificant(6),f=Boolean((null===l||void 0===l?void 0:l.baseCurrency)&&(null===l||void 0===l?void 0:l.quoteCurrency)),p=s?"".concat(null===l||void 0===l||null===(t=l.quoteCurrency)||void 0===t?void 0:t.symbol," per ").concat(null===l||void 0===l||null===(o=l.baseCurrency)||void 0===o?void 0:o.symbol):"".concat(null===l||void 0===l||null===(i=l.baseCurrency)||void 0===i?void 0:i.symbol," per ").concat(null===l||void 0===l||null===(a=l.quoteCurrency)||void 0===a?void 0:a.symbol);return(0,r.jsx)(c.xvT,{style:{justifyContent:"center",alignItems:"center",display:"flex"},children:f?(0,r.jsxs)(r.Fragment,{children:[null!==d&&void 0!==d?d:"-"," ",p,(0,r.jsx)(q,{onClick:function(){return u(!s)},children:(0,r.jsx)(c.kFI,{width:"14px"})})]}):"-"})}var Un=t(9189),Nn=function(n){var e=n.tokens,t=n.onDismiss,o=n.onCancel,i=(0,d.$G)().t;return(0,r.jsx)(c.u_l,{title:i("Import Token"),onDismiss:function(){t&&t(),o()},style:{maxWidth:"420px"},children:(0,r.jsx)(Un.Z,{tokens:e,handleCurrencySelect:t})})};function En(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zn(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function Ln(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Dn(){var n=Ln(["\n  width: 50%;\n"]);return Dn=function(){return n},n}function Zn(){var n=Ln(["\n  min-width: 20px;\n  min-height: 20px;\n  background-color: ",";\n  border-radius: 50%;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 8px;\n  font-size: 12px;\n"]);return Zn=function(){return n},n}function Bn(){var n=Ln(["\n  width: calc(100% - 20px);\n  display: flex;\n  align-items: center;\n"]);return Bn=function(){return n},n}function Mn(){var n=Ln(["\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(\n    90deg,\n    ","\n      0%,\n    ","\n      80%\n  );\n  opacity: 0.6;\n"]);return Mn=function(){return n},n}var Fn=(0,i.ZP)(y.m0).withConfig({componentId:"sc-e3b6fff7-0"})(Dn()),_n=i.ZP.div.withConfig({componentId:"sc-e3b6fff7-1"})(Zn(),(function(n){var e=n.theme,t=n.confirmed;return n.disabled?e.colors.backgroundDisabled:t?e.colors.success:e.colors.primary})),Gn=i.ZP.div.withConfig({componentId:"sc-e3b6fff7-2"})(Bn()),Wn=i.ZP.div.withConfig({componentId:"sc-e3b6fff7-3"})(Mn(),(function(n){var e=n.theme,t=n.prevConfirmed;return n.disabled?e.colors.backgroundDisabled:t?e.colors.success:e.colors.primary}),(function(n){var e=n.theme,t=n.prevConfirmed;return n.disabled?e.colors.backgroundDisabled:t?e.colors.primary:e.colors.backgroundDisabled}));function Rn(n){var e=n.steps,t=n.disabled,o=void 0!==t&&t,i=zn(n,["steps","disabled"]);return(0,r.jsx)(g.Tz,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){En(n,e,t[e])}))}return n}({justify:"center"},i,{children:(0,r.jsxs)(Fn,{children:[e.map((function(n,t){return(0,r.jsxs)(Gn,{children:[(0,r.jsx)(_n,{confirmed:n,disabled:o||!e[t-1]&&0!==t,children:n?"\u2713":t+1}),(0,r.jsx)(Wn,{prevConfirmed:n,disabled:o})]},t)})),(0,r.jsx)(_n,{disabled:o||!e[e.length-1],children:e.length+1})]})}))}var $n,Xn=t(45460),Yn=t(30621),Hn=t(85872),Vn=t(32433),Kn=t(34051),qn=t.n(Kn),Qn=t(55892),Jn=t(83010),ne=t(3620);function ee(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function te(n,e,t,r,o,i,a){try{var c=n[i](a),l=c.value}catch(s){return void t(s)}c.done?e(l):Promise.resolve(l).then(r,o)}function re(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){te(i,r,o,a,c,"next",n)}function c(n){te(i,r,o,a,c,"throw",n)}a(void 0)}))}}function oe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ie(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){oe(n,e,t[e])}))}return n}function ae(n){return function(n){if(Array.isArray(n))return ee(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return ee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ee(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.gv,t=arguments.length>2?arguments[2]:void 0,r=(0,b.Z)(),i=r.account,c=r.chainId,l=r.library,s=(0,v.Z)(t),u=s.address,d=null===t?i:u,f=(0,ne.Z)();return(0,o.useMemo)((function(){if(!n||!d||!l||!i||!c||!f)return[];var t=(0,j.iY)(c,l,i);if(!t)return[];var r=[];return r.push(a.F0.swapCallParameters(n,{feeOnTransfer:!1,allowedSlippage:new a.gG(a.QA.BigInt(e),Z.PM),recipient:d,deadline:f.toNumber()})),n.tradeType===a.YL.EXACT_INPUT&&r.push(a.F0.swapCallParameters(n,{feeOnTransfer:!0,allowedSlippage:new a.gG(a.QA.BigInt(e),Z.PM),recipient:d,deadline:f.toNumber()})),r.map((function(n){return{parameters:n,contract:t}}))}),[i,e,c,f,l,d,n])}!function(n){n[n.INVALID=0]="INVALID",n[n.LOADING=1]="LOADING",n[n.VALID=2]="VALID"}($n||($n={}));var le,se=t(50965),ue=t(71900),de=t(54626),fe=t(71228);function pe(n,e,t,r,o,i,a){try{var c=n[i](a),l=c.value}catch(s){return void t(s)}c.done?e(l):Promise.resolve(l).then(r,o)}function me(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){pe(i,r,o,a,c,"next",n)}function c(n){pe(i,r,o,a,c,"throw",n)}a(void 0)}))}}!function(n){n[n.NOT_APPLICABLE=0]="NOT_APPLICABLE",n[n.WRAP=1]="WRAP",n[n.UNWRAP=2]="UNWRAP"}(le||(le={}));var he={wrapType:le.NOT_APPLICABLE};var xe=t(45131),ve=t(7010),be=t(49438),ge=t(23917),ye=function(){var n=(0,d.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.xvT,{children:[n("SAFEMOON has been migrated to")," ",(0,r.jsx)(c.rUS,{style:{display:"inline"},external:!0,href:"https://bscscan.com/address/0x42981d0bfbAf196529376EE702F2a9Eb9092fcB5",children:n("a new contract address.")})," ",n("Trading on the old address may result in the complete loss of your assets. For more information please refer to")," ",(0,r.jsxs)(c.rUS,{style:{display:"inline"},external:!0,href:"https://twitter.com/safemoon/status/1477770592031887360",children:[n("Safemoon's announcement"),"."]})]})})},je=function(){var n=(0,d.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.xvT,{children:[n("ITAM has been rebranded as ITAM CUBE.")," ",(0,r.jsx)(c.rUS,{style:{display:"inline"},external:!0,href:"https://itam.network/swap",children:n("Please proceed to ITAM bridge to conduct a one-way swap of your ITAM tokens.")})," ",n("All transfers of the old ITAM token will be disabled after the swap.")]})})},we=function(){var n=(0,d.$G)().t;return(0,r.jsx)(c.xvT,{children:n("Warning: BONDLY has been compromised. Please remove liquidity until further notice.")})},Ce=function(n){var e=n.handleContinueClick,t=(0,d.$G)().t,i=(0,o.useState)(!1),a=i[0],l=i[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.kCb,{justifyContent:"space-between",children:[(0,r.jsxs)(c.kCb,{alignItems:"center",children:[(0,r.jsx)(c.XZJ,{name:"confirmed",type:"checkbox",checked:a,onChange:function(){return l(!a)},scale:"sm"}),(0,r.jsx)(c.xvT,{ml:"10px",style:{userSelect:"none"},children:t("I understand")})]}),(0,r.jsx)(c.zxk,{disabled:!a,onClick:e,children:t("Continue")})]})})},Te=function(){var n=(0,d.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.xvT,{children:[n("Crypto Cars (CCAR) has been migrated to")," ",(0,r.jsx)(c.rUS,{style:{display:"inline"},external:!0,href:"https://bscscan.com/token/0x322e5015Cc464Ada7f99dE7131CE494dE1834396",children:n("a new contract address.")})," ",n("Trading on the old address may result in the complete loss of your assets. For more information please refer to")," ",(0,r.jsx)(c.rUS,{style:{display:"inline"},external:!0,href:"https://t.me/Crypto_Cars_Official/465037",children:n("the announcement.")})]})})},Pe=function(){var n=(0,d.$G)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.xvT,{children:n("Please note that this is the old BTT token, which has been swapped to the new BTT tokens in the following ratio:")}),(0,r.jsx)(c.xvT,{children:"1 BTT (OLD) = 1,000 BTT (NEW)"}),(0,r.jsx)(c.rUS,{href:"https://pancakeswap.finance/swap?outputCurrency=0x352Cb5E19b12FC216548a2677bD0fce83BaE434B",children:n("Trade the new BTT token here.")}),(0,r.jsx)(c.rUS,{external:!0,href:"https://medium.com/@BitTorrent/tutorial-how-to-swap-bttold-to-btt-453264d7142",children:n("For more details on the swap, please refer here.")})]})};function Ae(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ke(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Ie(){var n=ke(["\n  max-width: 440px;\n"]);return Ie=function(){return n},n}function Se(){var n=ke(["\n  align-items: flex-start;\n  justify-content: flex-start;\n"]);return Se=function(){return n},n}var Oe=(0,i.ZP)(c.F0k).withConfig({componentId:"sc-bf05d5be-0"})(Ie()),Ue=(0,i.ZP)(c.v0C).withConfig({componentId:"sc-bf05d5be-1"})(Se()),Ne=function(n){var e,t=n.swapCurrency,i=n.onDismiss,a=(0,d.$G)().t,l=(0,ge.Z)().theme;(0,o.useEffect)((function(){var n=function(n){return n.stopPropagation(),n.preventDefault(),!1};return document.querySelectorAll('[role="presentation"]').forEach((function(e){e.addEventListener("click",n,!0)})),function(){document.querySelectorAll('[role="presentation"]').forEach((function(e){e.removeEventListener("click",n,!0)}))}}),[]);var s=(Ae(e={},m.safemoon.address,{symbol:m.safemoon.symbol,component:(0,r.jsx)(ye,{})}),Ae(e,m.bondly.address,{symbol:m.bondly.symbol,component:(0,r.jsx)(we,{})}),Ae(e,m.itam.address,{symbol:m.itam.symbol,component:(0,r.jsx)(je,{})}),Ae(e,m.ccar.address,{symbol:m.ccar.symbol,component:(0,r.jsx)(Te,{})}),Ae(e,m.bttold.address,{symbol:m.bttold.symbol,component:(0,r.jsx)(Pe,{})}),e)[t.address];return(0,r.jsxs)(Oe,{minWidth:"280px",children:[(0,r.jsx)(c.xBx,{background:l.colors.gradients.cardHeader,children:(0,r.jsx)(c.X6q,{p:"12px 24px",children:a("Notice for trading %symbol%",{symbol:s.symbol})})}),(0,r.jsxs)(c.fef,{p:"24px",children:[(0,r.jsx)(Ue,{variant:"warning",mb:"24px",children:(0,r.jsx)(c.xuv,{children:s.component})}),(0,r.jsx)(Ce,{handleContinueClick:i})]})]})};function Ee(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function ze(){var n=Ee(["\n  flex-shrink: 0;\n  height: fit-content;\n  padding: 0 24px;\n\n  "," {\n    padding: 0 40px;\n  }\n\n  "," {\n    ",";\n  }\n"]);return ze=function(){return n},n}function Le(){var n=Ee(["\n  @media screen and (min-width: 601px) {\n\xa0 \xa0 &.yan-fan-diy {\n      width: 428px;\n    }\n\xa0 }\n\xa0 @media screen and (max-width: 600px) {\n\xa0 \xa0 &.yan-fan-diy {\n      width: 328px;\n    }\n\xa0 }\n"]);return Le=function(){return n},n}var De=(0,i.ZP)(c.kCb).withConfig({componentId:"sc-5ceff359-0"})(ze(),(function(n){return n.theme.mediaQueries.lg}),(function(n){return n.theme.mediaQueries.xxl}),(function(n){return n.$isChartExpanded?"padding: 0 120px":"padding: 0 40px"})),Ze=(0,i.ZP)(c.xuv).withConfig({componentId:"sc-5ceff359-1"})(Le()),Be=t(86921),Me=t(8742);function Fe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _e(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){Fe(n,e,t[e])}))}return n}function Ge(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var We=function(n){return(0,r.jsxs)(c.nyw,_e({id:"arrow_loading",viewBox:"0 0 24 24"},n,{children:[(0,r.jsx)("path",{stroke:"none",fill:"#D7CAEC",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("path",{id:"arrow",stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),(0,r.jsx)("clipPath",{id:"arrow-clip",children:(0,r.jsx)("use",{xlinkHref:"#arrow"})})]})]}))},Re=function(n){var e=n.disabled,t=Ge(n,["disabled"]);return e?(0,r.jsx)(We,_e({},t)):(0,r.jsxs)(c.nyw,_e({id:"arrow_loading",viewBox:"0 0 24 24"},t,{children:[(0,r.jsx)("path",{stroke:"none",fill:"#7A6EAA",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("path",{id:"arrow",stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),(0,r.jsx)("clipPath",{id:"arrow-clip",children:(0,r.jsx)("use",{xlinkHref:"#arrow"})})]}),(0,r.jsx)("g",{clipPath:"url(#arrow-clip)",children:(0,r.jsx)("circle",{cx:"12",cy:"12",r:"5",transform:"rotate(365,12,12)",fill:"none",stroke:"#D7CAEC",strokeWidth:"16",strokeDasharray:"30",strokeDashoffset:"0",children:(0,r.jsx)("animate",{attributeName:"stroke-dashoffset",values:"0;-30",begin:"arrow_loading.click; 0.7s",repeatCount:"indefinite",dur:"6.3s"})})}),(0,r.jsx)("use",{xlinkHref:"#arrow"}),(0,r.jsx)("animateTransform",{id:"transform_0",attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 0 0",to:"-10 0 0",dur:"0.07s",begin:"arrow_loading.click;",repeatCount:"1"}),(0,r.jsx)("animateTransform",{id:"transform_1",attributeName:"transform",attributeType:"XML",type:"rotate",from:"-45 0 0",to:"390 0 0",dur:"0.6s",begin:"transform_0.end",repeatCount:"1"}),(0,r.jsx)("animateTransform",{id:"transform_2",attributeName:"transform",attributeType:"XML",type:"rotate",from:"390 0 0",to:"360 0 0",dur:"0.15s",begin:"transform_1.end",repeatCount:"1"})]}))};function $e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Xe(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return $e(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $e(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function He(){var n=Ye(["\n  flex-direction: column;\n  align-items: center;\n  padding: 24px;\n  width: 100%;\n  border-bottom: 1px solid ",";\n"]);return He=function(){return n},n}function Ve(){var n=Ye(["\n  color: ",";\n"]);return Ve=function(){return n},n}var Ke=(0,i.ZP)(c.kCb).withConfig({componentId:"sc-ade43a8c-0"})(He(),(function(n){return n.theme.colors.cardBorder})),qe=((0,i.ZP)(c.hU).withConfig({componentId:"sc-ade43a8c-1"})(Ve(),(function(n){return n.theme.colors.textSubtle})),function(n){var e=n.title,t=n.subtitle,o=(n.setIsChartDisplayed,n.isChartDisplayed,n.hasAmount),i=n.onRefreshPrice,a=Xe((0,vn.DG)(),1)[0],l=Xe((0,c.ddY)((0,r.jsx)(Be.Z,{})),1)[0];return(0,r.jsxs)(Ke,{children:[(0,r.jsxs)(c.kCb,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(c.kCb,{flexDirection:"column",alignItems:"flex-start",width:"100%",mr:18,children:(0,r.jsx)(c.X6q,{as:"h2",children:e})}),(0,r.jsxs)(c.kCb,{children:[(0,r.jsx)(c.BwQ,{show:a,children:(0,r.jsx)(Me.Z,{color:"textSubtle",mr:"0"})}),(0,r.jsx)(c.hU,{onClick:l,variant:"text",scale:"sm",children:(0,r.jsx)(c.F_y,{color:"textSubtle",width:"24px"})}),(0,r.jsx)(c.hU,{variant:"text",scale:"sm",onClick:function(){return i()},children:(0,r.jsx)(Re,{disabled:!o,color:"textSubtle",width:"27px"})})]})]}),(0,r.jsx)(c.kCb,{flexDirection:"column",alignItems:"flex-start",width:"100%",children:(0,r.jsx)(c.xvT,{color:"textSubtle",fontSize:"14px",children:t})})]})});function Qe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Je(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nt(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return Qe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qe(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function tt(){var n=et(["\n  font-size: 12px;\n  font-weight: bold;\n  color: ",";\n"]);return tt=function(){return n},n}function rt(){var n=et(["\n  box-shadow: inset 0px -2px 0px rgba(0, 0, 0, 0.1);\n  .icon-up-down {\n    display: none;\n  }\n  &:hover {\n    background-color: ",";\n    .icon-down {\n      display: none;\n      fill: white;\n    }\n    .icon-up-down {\n      display: block;\n      fill: white;\n    }\n  }\n"]);return rt=function(){return n},n}var ot=(0,i.ZP)(c.xvT).withConfig({componentId:"sc-10659634-0"})(tt(),(function(n){return n.theme.colors.secondary})),it=(0,i.ZP)(c.hU).withConfig({componentId:"sc-10659634-1"})(rt(),(function(n){return n.theme.colors.primary}));function at(){var n,e,t,i,f,p=(0,u.useRouter)(),h=(0,se.jj)(),w=(0,d.$G)().t,C=(0,c.SLI)().isMobile,T=(0,o.useState)(!1),P=T[0],A=(T[1],nt((0,vn.vD)(C),2)),k=A[0],I=A[1],S=(0,o.useState)(k),O=S[0],E=S[1],D=x(),B=D.refreshBlockNumber,M=D.isLoading;(0,o.useEffect)((function(){I(O)}),[O,I]);var F,_,G,W,R,$,X=[(0,Hn.U8)(null===h||void 0===h?void 0:h.inputCurrencyId),(0,Hn.U8)(null===h||void 0===h?void 0:h.outputCurrencyId)],Y=X[0],K=X[1],q=(0,o.useMemo)((function(){var n;return null!==(F=null===(n=[Y,K])||void 0===n?void 0:n.filter((function(n){return e=n,null!=(t=a.WU)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t;var e,t})))&&void 0!==F?F:[]}),[Y,K]),Q=(0,Hn.e_)(),J=q&&q.filter((function(n){return!(n.address in Q)})),nn=(0,b.Z)().account,tn=nt((0,vn.DG)(),1)[0],rn=nt((0,vn.$2)(),1)[0],on=(0,se.dU)(),an=on.independentField,cn=on.typedValue,ln=on.recipient,un=(0,se.SM)(),dn=un.v2Trade,fn=un.currencyBalances,hn=un.parsedAmount,xn=un.currencies,bn=un.inputError,gn=(0,se.dU)(),yn=(gn[z.gN.INPUT].currencyId,gn[z.gN.OUTPUT].currencyId,function(n,e,t){var r=(0,b.Z)(),i=r.chainId,c=r.account,l=(0,fe.d)().callWithGasPrice,s=(0,de.Hj)(),u=(0,ue._h)(null!==c&&void 0!==c?c:void 0,n),d=(0,o.useMemo)((function(){return(0,se.eo)(t,n)}),[n,t]),f=(0,Qn.h7)();return(0,o.useMemo)((function(){if(!s||!i||!n||!e)return he;var t=d&&u&&!u.lessThan(d);return n===a.c0&&(0,a.KA)(a.DX[i],e)?{wrapType:le.WRAP,execute:t&&d?me(qn().mark((function n(){var e;return qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l(s,"deposit",void 0,{value:"0x".concat(d.raw.toString(16))});case 3:e=n.sent,f(e,{summary:"Wrap ".concat(d.toSignificant(6)," BNB to WBNB")}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Could not deposit",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))):void 0,inputError:t?void 0:"Insufficient BNB balance"}:(0,a.KA)(a.DX[i],n)&&e===a.c0?{wrapType:le.UNWRAP,execute:t&&d?me(qn().mark((function n(){var e;return qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l(s,"withdraw",["0x".concat(d.raw.toString(16))]);case 3:e=n.sent,f(e,{summary:"Unwrap ".concat(d.toSignificant(6)," WBNB to BNB")}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Could not withdraw",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))):void 0,inputError:t?void 0:"Insufficient WBNB balance"}:he}),[s,i,n,e,d,u,f,l])}(xn[z.gN.INPUT],xn[z.gN.OUTPUT],cn)),jn=yn.wrapType,wn=yn.execute,Cn=yn.inputError,Tn=jn!==le.NOT_APPLICABLE,Pn=Tn?void 0:dn,An=((0,se.yF)(),Tn?(Je(_={},z.gN.INPUT,hn),Je(_,z.gN.OUTPUT,hn),_):(Je(G={},z.gN.INPUT,an===z.gN.INPUT?hn:null===Pn||void 0===Pn?void 0:Pn.inputAmount),Je(G,z.gN.OUTPUT,an===z.gN.OUTPUT?hn:null===Pn||void 0===Pn?void 0:Pn.outputAmount),G)),kn=(0,se._r)(),In=kn.onSwitchTokens,Un=kn.onCurrencySelection,En=kn.onUserInput,zn=kn.onChangeRecipient,Ln=!bn,Dn=an===z.gN.INPUT?z.gN.OUTPUT:z.gN.INPUT,Zn=(0,o.useCallback)((function(n){En(z.gN.INPUT,n)}),[En]),Bn=(0,o.useCallback)((function(n){En(z.gN.OUTPUT,n)}),[En]),Mn=(0,o.useState)({tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),Fn=Mn[0],_n=Fn.tradeToConfirm,Gn=Fn.swapErrorMessage,Wn=Fn.attemptingTxn,Kn=Fn.txHash,ne=Mn[1],ee=(Je($={},an,cn),Je($,Dn,Tn?null!==(W=null===(n=An[an])||void 0===n?void 0:n.toExact())&&void 0!==W?W:"":null!==(R=null===(e=An[Dn])||void 0===e?void 0:e.toSignificant(6))&&void 0!==R?R:""),$),te=null===Pn||void 0===Pn?void 0:Pn.route,oe=Boolean(xn[z.gN.INPUT]&&xn[z.gN.OUTPUT]&&(null===(t=An[an])||void 0===t?void 0:t.greaterThan(a.QA.BigInt(0)))),pe=!te,ge=nt((0,Vn.re)(Pn,rn),2),ye=ge[0],je=ge[1],we=(0,o.useState)(!1),Ce=we[0],Te=we[1];(0,o.useEffect)((function(){ye===Vn.UK.PENDING&&Te(!0)}),[ye,Ce]);var Pe=(0,xe.i)(fn[z.gN.INPUT]),Ae=Boolean(Pe&&(null===(i=An[z.gN.INPUT])||void 0===i?void 0:i.equalTo(Pe))),ke=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.gv,t=arguments.length>2?arguments[2]:void 0,r=(0,b.Z)(),i=r.account,a=r.chainId,c=r.library,l=(0,vn.Fh)(),s=ce(n,e,t),u=(0,Qn.h7)(),d=(0,v.Z)(t).address,f=null===t?i:d;return(0,o.useMemo)((function(){return n&&c&&i&&a?f?{state:$n.VALID,callback:function(){var e=re(qn().mark((function e(){var r,o,a,c,d,p,m,h,x,v,b;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Promise.all(s.map((function(n){var e,t=n.parameters,r=t.methodName,o=t.args,i=t.value,a=n.contract,c=!i||(0,Jn.Z)(i)?{}:{value:i};return(e=a.estimateGas)[r].apply(e,ae(o).concat([c])).then((function(e){return{call:n,gasEstimate:e}})).catch((function(e){var t;return console.error("Gas estimate failed, trying eth_call to extract error",n),(t=a.callStatic)[r].apply(t,ae(o).concat([c])).then((function(t){return console.error("Unexpected successful call after failed estimate gas",n,e,t),{call:n,error:new Error("Unexpected issue with estimating the gas. Please try again.")}})).catch((function(e){var t;console.error("Call threw error",n,e);var r=e.reason||(null===(t=e.data)||void 0===t?void 0:t.message)||e.message,o="The transaction cannot succeed due to error: ".concat(null!==r&&void 0!==r?r:"Unknown error, check the logs",".");return{call:n,error:new Error(o)}}))}))})));case 3:if(o=e.sent,a=o.find((function(n,e,t){return"gasEstimate"in n&&(e===t.length-1||"gasEstimate"in t[e+1])}))){e.next=10;break}if(!((c=o.filter((function(n){return"error"in n}))).length>0)){e.next=9;break}throw c[c.length-1].error;case 9:throw new Error("Unexpected error. Please contact support: none of the calls threw an error");case 10:return d=a.call,p=d.contract,m=d.parameters,h=m.methodName,x=m.args,v=m.value,b=a.gasEstimate,e.abrupt("return",(r=p)[h].apply(r,ae(x).concat([ie({gasLimit:(0,j.yC)(b),gasPrice:l},v&&!(0,Jn.Z)(v)?{value:v,from:i}:{from:i})])).then((function(e){var r=n.inputAmount.currency.symbol,o=n.outputAmount.currency.symbol,a=n.inputAmount.toSignificant(3),c=n.outputAmount.toSignificant(3),l="Swap ".concat(a," ").concat(r," for ").concat(c," ").concat(o),s=f===i?l:"".concat(l," to ").concat(t&&(0,j.UJ)(t)?(0,sn.Z)(t):t);return u(e,{summary:s}),e.hash})).catch((function(n){throw 4001===(null===n||void 0===n?void 0:n.code)?new Error("Transaction rejected."):(console.error("Swap failed",n,h,x,v),new Error("Swap failed: ".concat(n.message)))})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),error:null}:null!==t?{state:$n.INVALID,callback:null,error:"Invalid recipient"}:{state:$n.LOADING,callback:null,error:null}:{state:$n.INVALID,callback:null,error:"Missing dependencies"}}),[n,c,i,a,f,t,s,u,l])}(Pn,rn,ln),Ie=ke.callback,Se=ke.error,Oe=(0,L.U7)(Pn).priceImpactWithoutFee,Ue=nt((0,vn.RO)(),1)[0],Ee=(0,o.useCallback)((function(){Oe&&!function(n,e){if(!n.lessThan(Z.EV)){var t="confirm";return window.prompt(e('This swap has a price impact of at least %amount%%. Please type the word "%word%" to continue with this swap.',{amount:Z.EV.toFixed(0),word:t}))===t}return!!n.lessThan(Z.Uf)||window.confirm(e("This swap has a price impact of at least %amount%%. Please confirm that you would like to continue with this swap.",{amount:Z.Uf.toFixed(0)}))}(Oe,w)||Ie&&(ne({attemptingTxn:!0,tradeToConfirm:_n,swapErrorMessage:void 0,txHash:void 0}),Ie().then((function(n){ne({attemptingTxn:!1,tradeToConfirm:_n,swapErrorMessage:void 0,txHash:n})})).catch((function(n){ne({attemptingTxn:!1,tradeToConfirm:_n,swapErrorMessage:n.message,txHash:void 0})})))}),[Oe,Ie,_n,w]),ze=(0,o.useState)(!1),Le=ze[0],Be=ze[1],Me=(0,L.oX)(Oe),Fe=!bn&&(ye===Vn.UK.NOT_APPROVED||ye===Vn.UK.PENDING||Ce&&ye===Vn.UK.APPROVED)&&!(Me>3&&!tn),_e=(0,o.useCallback)((function(){ne({tradeToConfirm:_n,attemptingTxn:Wn,swapErrorMessage:Gn,txHash:Kn}),Kn&&En(z.gN.INPUT,"")}),[Wn,En,Gn,_n,Kn]),Ge=(0,o.useCallback)((function(){ne({tradeToConfirm:Pn,swapErrorMessage:Gn,txHash:Kn,attemptingTxn:Wn})}),[Wn,Gn,Pn,Kn]),We=(0,o.useState)(null),Re=We[0],$e=We[1],Xe=nt((0,c.ddY)((0,r.jsx)(Ne,{swapCurrency:Re})),1)[0],Ye=function(n){var e=Object.entries(m).find((function(e){var t=e[1];return n.address===t.address}));return Boolean(e)};(0,o.useEffect)((function(){Re&&Xe()}),[Re]);var He=(0,o.useCallback)((function(n){Te(!1),Un(z.gN.INPUT,n);var e=Ye(n);$e(e?n:null)}),[Un]),Ve=(0,o.useCallback)((function(){Pe&&En(z.gN.INPUT,Pe.toExact())}),[Pe,En]),Ke=(0,o.useCallback)((function(n){Un(z.gN.OUTPUT,n);var e=Ye(n);$e(e?n:null)}),[Un]),Qe=(0,l.mP)(null===xn||void 0===xn?void 0:xn.INPUT,null===xn||void 0===xn?void 0:xn.OUTPUT),et=nt((0,c.ddY)((0,r.jsx)(Nn,{tokens:J,onCancel:function(){return p.push("/swap")}})),1)[0];(0,o.useEffect)((function(){J.length>0&&et()}),[J.length]);var tt,rt=nt((0,c.ddY)((0,r.jsx)(pn,{trade:Pn,originalTrade:_n,onAcceptChanges:Ge,attemptingTxn:Wn,txHash:Kn,recipient:ln,allowedSlippage:rn,onConfirm:Ee,swapErrorMessage:Gn,customOnDismiss:_e}),!0,!0,"confirmSwapModal"),1)[0],at=Boolean(hn),ct=o.useCallback((function(){at&&B()}),[at,B]);return(0,r.jsx)(be.Z,{removePadding:P,hideFooterOnDesktop:P,children:(0,r.jsx)(c.kCb,{width:"100%",justifyContent:"center",position:"relative",children:(0,r.jsx)(c.kCb,{flexDirection:"column",children:(0,r.jsx)(De,{$isChartExpanded:P,children:(0,r.jsxs)(Ze,{mt:P?"24px":"0",className:"yan-fan-diy",children:[(0,r.jsxs)(Xn.j,{children:[(0,r.jsx)(qe,{title:w("Swap"),subtitle:w("Trade tokens in an instant"),setIsChartDisplayed:E,isChartDisplayed:O,hasAmount:at,onRefreshPrice:ct}),(0,r.jsxs)(H,{id:"swap-page",style:{minHeight:"412px"},children:[(0,r.jsxs)(g.Tz,{gap:"sm",children:[(0,r.jsx)(mn.Z,{label:an===z.gN.OUTPUT&&!Tn&&Pn?w("From (estimated)"):w("From"),value:ee[z.gN.INPUT],showMaxButton:!Ae,currency:xn[z.gN.INPUT],onUserInput:Zn,onMax:Ve,onCurrencySelect:He,otherCurrency:xn[z.gN.OUTPUT],id:"swap-currency-input"}),(0,r.jsx)(g.Tz,{justify:"space-between",children:(0,r.jsxs)(y.BA,{justify:tn?"space-between":"center",style:{padding:"0 1rem"},children:[(0,r.jsxs)(it,{variant:"light",scale:"sm",onClick:function(){Te(!1),In()},children:[(0,r.jsx)(c.veu,{className:"icon-down",color:xn[z.gN.INPUT]&&xn[z.gN.OUTPUT]?"primary":"text"}),(0,r.jsx)(c.Wpj,{className:"icon-up-down",color:xn[z.gN.INPUT]&&xn[z.gN.OUTPUT]?"primary":"text"})]}),null===ln&&!Tn&&tn?(0,r.jsx)(c.zxk,{variant:"text",id:"add-recipient-button",onClick:function(){return zn("")},children:w("+ Add a send (optional)")}):null]})}),(0,r.jsx)(mn.Z,{value:ee[z.gN.OUTPUT],onUserInput:Bn,label:an===z.gN.INPUT&&!Tn&&Pn?w("To (estimated)"):w("To"),showMaxButton:!1,currency:xn[z.gN.OUTPUT],onCurrencySelect:Ke,otherCurrency:xn[z.gN.INPUT],id:"swap-currency-output"}),tn&&null!==ln&&!Tn?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.BA,{justify:"space-between",style:{padding:"0 1rem"},children:[(0,r.jsx)(V,{clickable:!1,children:(0,r.jsx)(c.veu,{width:"16px"})}),(0,r.jsx)(c.zxk,{variant:"text",id:"remove-recipient-button",onClick:function(){return zn(null)},children:w("- Remove send")})]}),(0,r.jsx)(U,{id:"recipient",value:ln,onChange:zn})]}):null,Tn?null:(0,r.jsxs)(g.Tz,{gap:"7px",style:{padding:"0 16px"},children:[(0,r.jsx)(y.m0,{align:"center",children:Boolean(Pn)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ot,{children:w("Price")}),M?(0,r.jsx)(c.OdW,{width:"100%",ml:"8px",height:"24px"}):(0,r.jsx)(On,{price:null===Pn||void 0===Pn?void 0:Pn.executionPrice,showInverted:Le,setShowInverted:Be})]})}),(0,r.jsxs)(y.m0,{align:"center",children:[(0,r.jsx)(ot,{children:w("Slippage Tolerance")}),(0,r.jsxs)(c.xvT,{bold:!0,color:"primary",children:[rn/100,"%"]})]})]})]}),(0,r.jsxs)(c.xuv,{mt:"0.25rem",children:[Qe?(0,r.jsx)(c.zxk,{width:"100%",disabled:!0,children:w("Unsupported Asset")}):nn?Tn?(0,r.jsx)(c.zxk,{width:"100%",disabled:Boolean(Cn),onClick:wn,children:null!==Cn&&void 0!==Cn?Cn:jn===le.WRAP?"Wrap":jn===le.UNWRAP?"Unwrap":null}):pe&&oe?(0,r.jsxs)(N.h2,{style:{textAlign:"center",padding:"0.75rem"},children:[(0,r.jsx)(c.xvT,{color:"textSubtle",children:w("Insufficient liquidity for this trade.")}),Ue&&(0,r.jsx)(c.xvT,{color:"textSubtle",children:w("Try enabling multi-hop trades.")})]}):Fe?(0,r.jsxs)(y.m0,{children:[(0,r.jsx)(c.zxk,{variant:ye===Vn.UK.APPROVED?"success":"primary",onClick:je,disabled:ye!==Vn.UK.NOT_APPROVED||Ce,width:"48%",children:ye===Vn.UK.PENDING?(0,r.jsxs)(y.BA,{gap:"6px",justify:"center",children:[w("Enabling")," ",(0,r.jsx)(ve.Z,{stroke:"white"})]}):Ce&&ye===Vn.UK.APPROVED?w("Enabled"):w("Enable %asset%",{asset:null!==(tt=null===(f=xn[z.gN.INPUT])||void 0===f?void 0:f.symbol)&&void 0!==tt?tt:""})}),(0,r.jsx)(c.zxk,{variant:Ln&&Me>2?"danger":"primary",onClick:function(){tn?Ee():(ne({tradeToConfirm:Pn,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),rt())},width:"48%",id:"swap-button",disabled:!Ln||ye!==Vn.UK.APPROVED||Me>3&&!tn,children:w(Me>3&&!tn?"Price Impact High":Me>2?"Swap Anyway":"Swap")})]}):(0,r.jsx)(c.zxk,{variant:Ln&&Me>2&&!Se?"danger":"primary",onClick:function(){tn?Ee():(ne({tradeToConfirm:Pn,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),rt())},id:"swap-button",width:"100%",disabled:!Ln||Me>3&&!tn||!!Se,children:bn||w(Me>3&&!tn?"Price Impact Too High":Me>2?"Swap Anyway":"Swap")}):(0,r.jsx)(Yn.Z,{width:"100%"}),Fe&&(0,r.jsx)(g.ZP,{style:{marginTop:"1rem"},children:(0,r.jsx)(Rn,{steps:[ye===Vn.UK.APPROVED]})}),tn&&Gn?(0,r.jsx)(en,{error:Gn}):null]})]})]}),Qe?(0,r.jsx)(s.Z,{currencies:[xn.INPUT,xn.OUTPUT]}):Pn&&(0,r.jsx)(Sn,{trade:Pn})]})})})})})}}}]);